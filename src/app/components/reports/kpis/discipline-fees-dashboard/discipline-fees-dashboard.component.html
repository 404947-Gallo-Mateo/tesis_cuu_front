<div class="filters row m-1 mb-2">
    <div class="col-md-5">
      <label class="me-5 fs-3 fw-semibold text-dark" for="">KPIs de Cuotas de Disciplina</label>
    </div>

    <div class="col-md-2">
        <label class="fw-semibold text-dark">Desde:</label>
        <input type="date" [(ngModel)]="fromDate" (change)="updateCharts()">
    </div>

    <div class="col-md-2">
        <label class="fw-semibold text-dark">Hasta:</label>
        <input type="date" [(ngModel)]="toDate" (change)="updateCharts()">
    </div>
  
    <div class="col-md-2">
        <label class="fw-semibold text-dark">Disciplina:</label>
        <select class="form-select" [(ngModel)]="disciplineId" (change)="updateCharts()">
            <option *ngFor="let d of disciplines" [value]="d.id">{{ d.name }}</option>
        </select>
    </div>
</div>

<div class="charts-container mx-1">
  <div class="chart">
    <h4 class="fw-semibold text-dark">Cantidad de Deudores y Al día</h4>
    @if (debtorsChartData().data != undefined && debtorsChartData().data.at(0) != undefined && debtorsChartData().data.at(1) != undefined && debtorsChartData().data.at(0).at(1) != undefined && debtorsChartData().data.at(1).at(1) != undefined) { 
        <google-chart
          *ngIf="debtorsChartData().data.at(1).at(1) > 0 || debtorsChartData().data.at(0).at(1) > 0"
          [type]="debtorsChartData().type"
          [data]="debtorsChartData().data"
          [columns]="debtorsChartData().columns"
          [options]="debtorsChartData().options">
        </google-chart>
        <div class="alert alert-info mt-3" *ngIf="debtorsChartData().data.at(1).at(1) <= 0 && debtorsChartData().data.at(0).at(1) <= 0">
            No hay información disponible para mostrar 
        </div>
    }    
  </div>
  
  <div class="chart">
    <h4 class="fw-semibold text-dark">Total de Ingresos</h4>
    <google-chart
      *ngIf="totalRevenueChartData().data.length > 0"
      [type]="totalRevenueChartData().type"
      [data]="totalRevenueChartData().data"
      [options]="totalRevenueChartData().options">
    </google-chart>
    <div class="alert alert-info mt-3" *ngIf="totalRevenueChartData().data.length <= 0">
        No hay información disponible para mostrar
    </div>
  </div>
  
<div class="chart">
  <h4 class="fw-semibold text-dark">Distribución de Ingresos</h4>
  <google-chart 
    *ngIf="revenuePerPeriodChartData().data.length > 0"
    [type]="revenuePerPeriodChartData().type"
    [data]="revenuePerPeriodChartData().data"
    [columns]="revenuePerPeriodChartData().columns"
    [options]="revenuePerPeriodChartData().options">
  </google-chart>
  <div class="alert alert-info mt-3" *ngIf="revenuePerPeriodChartData().data.length <= 0">
        No hay información disponible para mostrar
    </div>
</div>
</div>
